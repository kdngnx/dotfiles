#!/usr/bin/env zsh
bin=$((print -l ${(k)commands} | sort -ru) | fzf --tmux)
[[ -z "$bin" ]] && exit 0

output=$(man "$bin" | col -b)
if [ -z "${output}" ]; then
  output=$("$bin" --help)
fi
if [ -z "${output}" ]; then
  output=$("$bin" help)
fi
if [ -z "${output}" ]; then
  tmux display-message "no help available for $bin"
  exit 0
fi
echo -e "$output" | less -R
# vim: ft=zsh
